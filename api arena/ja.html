<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Register Navigator</title>
</head>
<body>
  <button id="registerBtn">Register as Navigator</button>

  <script>
    const TEAM_SECRET = "k74e";
    const TEAM_NAME = "B";
    const API_BASE = "http://10.69.4.1:3001";

    async function registerNavigator() {
      try {
        const res = await fetch(`${API_BASE}/api/auth/register`, {
          method: "POST",
          headers: {
            "Authorization": `Bearer ${TEAM_SECRET}`,
            "Content-Type": "application/json"
          },
          body: JSON.stringify({
            teamId: TEAM_NAME,
            role: "mover"   // üëà changed here
          })
        });

        if (!res.ok) {
          throw new Error(`HTTP error! Status: ${res.status}`);
        }

        const data = await res.json();
        console.log("‚úÖ Registered as navigator:", data);
        alert("Registered successfully as navigator! Check console for details.");
      } catch (err) {
        console.error("‚ùå Error registering navigator:", err);
        alert("Registration failed. Check console for details.");
      }
    }

    document.getElementById("registerBtn").addEventListener("click", registerNavigator);
  </script>
</body>
</html>
